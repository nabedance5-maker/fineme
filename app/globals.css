/* Design Tokens */
:root {
  --color-bg: #ffffff;
  --color-fg: #111111;
  --color-muted: #6b7280;
  --color-accent: #9ca3af; /* シルバー/グレーアクセント */
  --color-border: #e5e7eb;
  --radius: 12px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 6px 20px rgba(0,0,0,0.08);
  --container: 1120px;
  --sp-1: 4px; --sp-2: 8px; --sp-3: 12px; --sp-4: 16px; --sp-5: 24px; --sp-6: 32px; --sp-7: 48px; --sp-8: 64px;
}

/* Reset */
* { box-sizing: border-box; }
html, body, #__next { height: 100%; }
html { scroll-behavior: smooth; }
body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color: var(--color-fg); background: var(--color-bg); }
img { max-width: 100%; display: block; }
a { color: inherit; text-decoration: none; }
button { font: inherit; }

/* Utilities */
.container { width: 100%; max-width: var(--container); margin: 0 auto; padding: 0 var(--sp-5); }
.stack > * + * { margin-top: var(--sp-5); }
.cluster { display: flex; gap: var(--sp-4); align-items: center; flex-wrap: wrap; }
.visually-hidden { position: absolute; clip: rect(0 0 0 0); clip-path: inset(50%); width: 1px; height: 1px; overflow: hidden; white-space: nowrap; }

/* Components */
.navbar { position: sticky; top: 0; backdrop-filter: saturate(180%) blur(10px); background: rgba(255,255,255,0.8); border-bottom: 1px solid var(--color-border); z-index: 10; }
.navbar-inner { display: flex; align-items: center; justify-content: space-between; height: 64px; }
.brand { font-weight: 700; letter-spacing: .2px; }
.nav-links a { color: #374151; padding: 10px 12px; border-radius: 8px; }
.nav-links a:hover { background: #f3f4f6; }

.hero { padding: var(--sp-8) 0 var(--sp-7); background: linear-gradient(180deg, #f8fafc, #ffffff 40%); }
.hero h1 { font-size: clamp(28px, 5vw, 40px); line-height: 1.1; margin: 0 0 var(--sp-4); }
.hero p { color: var(--color-muted); max-width: 60ch; }

.searchbar { display: grid; grid-template-columns: 1.5fr 1fr 1fr auto; gap: var(--sp-3); padding: var(--sp-4); background: #fff; border: 1px solid var(--color-border); border-radius: var(--radius); box-shadow: var(--shadow-sm); }
.searchbar input, .searchbar select { padding: 10px 12px; border: 1px solid var(--color-border); border-radius: 10px; }
.btn { padding: 12px 16px; border-radius: 10px; border: 1px solid #d1d5db; background: #111827; color: #fff; box-shadow: var(--shadow-sm); }
.btn-ghost { background: transparent; color: #111827; }

/* Tabs styling */
.tabs { display:flex; gap:8px; align-items:center; }
.tabs .tab-btn { background: transparent; border: 1px solid transparent; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight:600; color: #374151; }
.tabs .tab-btn.is-active { background: #0e3760; color: #fff; border-color: rgba(0,0,0,0.06); }
.tabs .tab-btn:focus { outline: 3px solid rgba(14,55,96,0.14); outline-offset: 2px; }

/* Prefer showing focus only when keyboard users navigate (uses :focus-visible when supported) */
.tabs .tab-btn:focus-visible {
  outline: 3px solid rgba(14,55,96,0.22);
  outline-offset: 2px;
  box-shadow: 0 2px 10px rgba(14,55,96,0.06);
}

/* Make tabs horizontally scrollable on small screens and improve tap targets */
.tabs {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;
}
.tabs::-webkit-scrollbar { height: 8px; }
.tabs::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.08); border-radius: 8px; }
.tabs .tab-btn { min-width: 110px; text-align: center; padding: 10px 14px; }
.tabs .tab-btn.is-active { background: #0b4a9b; color: #fff; }

@media (max-width: 640px) {
  .tabs .tab-btn { min-width: 92px; padding: 12px 14px; font-size: 14px; }
}

/* Stronger focus for interactive buttons */
.btn:focus-visible, .btn:focus { outline: 3px solid rgba(37,99,235,0.18); outline-offset: 2px; }

/* Skip link (keyboard-only quick nav) */
.skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus, .skip-link:active { left: 12px; top: 12px; width: auto; height: auto; padding: 8px 12px; background: #0e3760; color: #fff; border-radius: 6px; z-index: 1000; }

/* Respect reduced motion for smooth scrolling and animations */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  * { transition: none !important; animation: none !important; }
}

/* Primary reservation button modifier */
.btn--primary { background: linear-gradient(90deg,var(--primary, #2563eb), #0e3760); color: #fff; border: none; }
.btn--primary:focus { outline: 3px solid rgba(37,99,235,0.18); outline-offset: 2px; }

/* Badge used for ratings / counts */
.badge { display:inline-block; padding:4px 8px; border-radius:12px; background:#ff8a00; color:#fff; font-weight:600; font-size:13px; }

/* Service thumbnail used in detail/summary */
.service-thumb { width:100%; height:200px; object-fit:cover; border-radius:8px; }

/* Detail access block refinement */
.detail-access { background: linear-gradient(90deg, rgba(14,55,96,0.04), rgba(14,55,96,0.01)); border-left:4px solid var(--primary, #0e3760); padding:12px; border-radius:8px; margin:8px 0; }
.detail-access p{ margin:4px 0; }

/* Card refinements */
.card-title { font-size:18px; line-height:1.2; }
.card-meta { margin-top:6px; color:var(--color-muted); }
.card .card-body { padding:16px; }

/* Primary CTA tweaks */
.btn { padding:10px 14px; border-radius:8px; }
.btn--primary { padding:10px 14px; box-shadow: var(--shadow-md); }
.cluster .btn + .btn { margin-left:8px; }

/* Slightly softer badge for price */
.badge { background: linear-gradient(90deg,#ff8a00,#ff6a00); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }

.grid { display: grid; gap: var(--sp-5); grid-template-columns: repeat(12, 1fr); }
.col-4 { grid-column: span 4; }
.card { border: 1px solid var(--color-border); border-radius: var(--radius); overflow: hidden; background: #fff; box-shadow: var(--shadow-sm); }
.card-body { padding: var(--sp-4); }
.card-title { font-weight: 600; margin: 0 0 var(--sp-2); }
.card-meta { color: var(--color-muted); font-size: 14px; }

.footer { margin-top: var(--sp-8); padding: var(--sp-7) 0; border-top: 1px solid var(--color-border); color: var(--color-muted); font-size: 14px; }

/* Ensure provider login in footer uses white text and visible background */
.footer .provider-login, .footer .provider-login:link, .footer .provider-login:visited, .footer .provider-login:hover, .footer .provider-login:active, .footer .provider-login:focus{
  color: #fff !important;
  background: linear-gradient(90deg, var(--primary, #2563eb), #0e3760) !important;
  border: none !important;
  padding: 8px 12px !important;
  border-radius: 8px !important;
  display: inline-block;
}

@media (max-width: 900px) {
  .searchbar { grid-template-columns: 1fr; }
  .col-4 { grid-column: span 12; }
}

/* Features grid for service cards (responsive) */
.features-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

/* Ensure card thumbnail looks good in a grid */
.card .service-thumb { height: 180px; object-fit: cover; }

@media (max-width: 640px) {
  .card .service-thumb { height: 140px; }
  .card-body { padding: 12px; }
}

@media (min-width: 1200px) {
  /* make sure three-up layout behaves similarly to .col-4 */
  .features-grid.three-up { grid-template-columns: repeat(3, 1fr); }
}
